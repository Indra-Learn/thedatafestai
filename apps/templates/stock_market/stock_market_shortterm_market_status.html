{% extends 'base_stock_market.html' %}

{% block title %}Stock Market{% endblock %}

{% block first_content %}
    <h1>Daily Market Status of <strong><a href="https://www.nseindia.com/" target="_blank" rel="noopener noreferrer">NSE</a></strong>(National Stock Exchange)</h1>

    {% for date, details in first_content.items() %}
    
    <table class="table-grid">
        <thead>
            <tr>
                <th>Date:</th>
                <th>MarketCapLacCr:</th>
                <th>MarketCapTriDol: </th>
            </tr>
        </thead>
        <tr>
            <td><u> {{ date }}</u></td>
            <td> {{ "{:,.2f}".format(details.MarketCapLacCr) }}</td>
            <td> ${{ "{:,.2f}".format(details.MarketCapTriDol) }}</td>
        </tr>
    </table>
    <div class="grid-container-3">
        <div class="grid-item">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>52WeekHigh</th>
                        <th>52WeekLow</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="{% if details.WeekHigh > details.WeekLow %}green-header{% elif details.WeekHigh < details.WeekLow %}red-header{% endif %}">
                        <td>{{ details.WeekHigh }}</td>
                        <td>{{ details.WeekLow }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="grid-item">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>UpperCircuit</th>
                        <th>LowerCircuit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="{% if details.UpperCircuit >  details.LowerCircuit %}green-header{% elif details.UpperCircuit < details.LowerCircuit %}red-header{% endif %}">
                        <td>{{ details.UpperCircuit }}</td>
                        <td>{{ details.LowerCircuit }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="grid-item">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>StocksAdvances</th>
                        <th>StocksDeclines</th>
                        <th>StocksUnchanged</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="{% if details.StocksAdvances > details.StocksDeclines %}green-header{% elif details.StocksAdvances < details.StocksDeclines %}red-header{% endif %}">
                        <td>{{ details.StocksAdvances }}</td>
                        <td>{{ details.StocksDeclines }}</td>
                        <td>{{ details.StocksUnchanged }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    {% endfor %}

    {{ first_content_index | safe }}
{% endblock %}